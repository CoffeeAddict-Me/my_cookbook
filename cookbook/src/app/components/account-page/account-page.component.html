<!-- Navigation bar component -->
<app-navigation-bar></app-navigation-bar>

<!-- Main container with background styling -->
<div class="background">
    <div class="display">

        <!-- User details section -->
        <div class="user_details">
            <h2>Your account</h2>

            <!-- Displays current user details -->
            <div class="table">
                <!-- Row for displaying the user's name -->
                <div class="table-row">
                    <div class="first-column">
                        <p><b>Name:</b></p>
                    </div>
                    <div class="second-column">
                        <p>{{ inputName }}</p>
                    </div>
                </div>

                <!-- Row for displaying the user's username -->
                <div class="table-row">
                    <div class="first-column">
                        <p><b>Username:</b></p>
                    </div>
                    <div class="second-column">
                        <p>{{ inputUsername }}</p>
                    </div>
                </div>

                <!-- Row for displaying the user's email -->
                <div class="table-row">
                    <div class="first-column">
                        <p><b>Email:</b></p>
                    </div>
                    <div class="second-column">
                        <p>{{ inputEmail }}</p>
                    </div>
                </div>
            </div>

            <!-- Button to trigger edit mode -->
            <app-blue-small-button [typeButtonText]="blueButtonText" (click)="editPlease()"></app-blue-small-button>

            <!-- Show the edit form only if editUserDetails is true -->
            <div class="edit_details" *ngIf="editUserDetails">
                <!-- Edit form for user details -->
                <form class="form__container" [formGroup]="editForm" (ngSubmit)="editUser()">

                    <div class="table">
                        <!-- Row for editing the user's name -->
                        <div class="table-row">
                            <div class="first-column">
                                <p><b>Name:</b></p>
                            </div>
                            <div class="second-column">
                                <input id="name" type="text" placeholder="{{inputName}}" formControlName="name"
                                       aria-label="Name input field"/>
                                <!-- Error message for name validation -->
                                <div *ngIf="editForm.controls['name'].invalid && editForm.controls['name'].dirty">
                                    <p class="userError">Your name is required and it must contain at least two letters</p>
                                </div>
                            </div>
                        </div>

                        <!-- Row for editing the user's email -->
                        <div class="table-row">
                            <div class="first-column">
                                <p><b>Email:</b></p>
                            </div>
                            <div class="second-column">
                                <input id="email" type="email" placeholder="{{inputEmail}}" formControlName="email"
                                       aria-label="E-mail input field"/>
                                <!-- Error message for email validation -->
                                <div *ngIf="editForm.controls['email'].invalid && editForm.controls['email'].dirty">
                                    <p class="userError">Please provide your valid email address</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Submit button for the edit form, disabled if the form is invalid -->
                    <button [disabled]="!editForm.valid" type="submit" class="submit">Submit</button>
                </form>
            </div>

            <!-- Section for deleting the user account -->
            <div class="delete-user">
                <p>If you would like to delete your account permanently, click the button below</p>

                <!-- Button to trigger account deletion -->
                <button (click)="deleteUser()" class="delete">Delete Account</button>
            </div>
        </div>
    </div>
</div>